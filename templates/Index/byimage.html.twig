{% extends 'generic_layout.html.twig' %}

{% block head_title %}{{ 'poemImage.index.ByImages'|trans }}{% endblock %}

{% block main_title %}{{ 'poemImage.index.ByImages'|trans }}{% endblock %}

{% block main_content %}
	<div class="card-columns">
    {% for image in pagination %}
		<div class="card">
			<a href="{{ path('read', {'id' : image.poem.id, 'slug' : image.poem.slug}) }}"><img src="{{ asset('photo/poem/'~image.image) }}" class="card-img-top" alt="{{ image.poem.title }}"></a>
			<div class="card-body">
				<p class="card-text font-weight-bold">{{ image.poem.title|raw }}</p>
				<p class="card-text">
					<small class="text-muted">
						{% if image.poem.authorType == "biography" %}
							<a href="{{ path('author', {'id' : image.poem.biography.id, 'slug' : image.poem.biography.slug }) }}" alt="">{{ image.poem.biography.title }}</a>
						{% else %}
							<a href="{{ path('user_show', {'id' : image.poem.user }) }}" alt="">{{ image.poem.user }}</a>
						{% endif %}
						<a href="{{ path('country', {'id' : image.poem.country.id, 'slug' : image.poem.country.slug }) }}" alt=""><img class="flag" src="{{ asset('photo/country/'~image.poem.country.flag) }}" alt="" height="8" /></a>
					</small>
				</p>
			</div>
		</div>

    {% endfor %}
	</div>

{{ knp_pagination_render(pagination) }}
{% endblock %}